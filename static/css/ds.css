/* DS tokens & componentes – DARK + Vinho + Ubuntu */
:root{
  --font-sans:"Ubuntu",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans";
  --bg:#0d1117; --surface:#121826; --surface-2:#0b1220; --border:#202a3a;
  --text:#e5e7eb; --muted:#cbd5e1; --heading:#fff;
  --accent:#7a1340; --accent-600:#680e36; --accent-700:#5a0c2e; --accent-200:#f4d6e3;
  --success:#16a34a; --info:#60a5fa; --warn:#f59e0b; --danger:#ef4444; --neutral:#94a3b8; --violet:#a78bfa;
  --row:#0b1220; --row-alt:#0d1528; --row-hover:#121a2f;
  --thead:#0f172a;
  --shadow:0 12px 32px rgba(0,0,0,.45);
}

/* Force Design System Priority Over Tailwind */
.container-xl { max-width: 1280px !important; margin: 0 auto !important; padding: 0 1rem !important; }
.card { background: var(--surface) !important; border: 1px solid var(--border) !important; border-radius: 16px !important; box-shadow: var(--shadow) !important; }
.kpi { display: flex !important; justify-content: space-between !important; align-items: center !important; padding: 1rem !important; border-radius: 16px !important; background: linear-gradient(180deg,#121a2f,#0b1220) !important; border: 1px solid var(--border) !important; }
.row { display: grid !important; gap: 1rem !important; grid-template-columns: repeat(12,minmax(0,1fr)) !important; }
.col-12 { grid-column: span 12 !important; }
.col-6 { grid-column: span 6 !important; }
.col-4 { grid-column: span 4 !important; }
.col-3 { grid-column: span 3 !important; }
.col-2 { grid-column: span 2 !important; }
:root{ color-scheme:dark }
html,body{height:100%}
body{background:var(--bg);color:var(--text);font-family:var(--font-sans);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
p{color:var(--text)}
a{color:var(--accent-200);text-decoration:none}
.container-xl{max-width:1280px;margin:0 auto;padding:0 1rem}
.card{background:var(--surface);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow)}
.section-title{color:var(--heading);font-weight:700;font-size:1rem} /* Reduzido de 1.125rem */
.kpi{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-radius:16px;background:linear-gradient(180deg,#121a2f,#0b1220);border:1px solid var(--border)}
.row{display:grid;gap:1rem;grid-template-columns:repeat(12,minmax(0,1fr))}
.col-12{grid-column:span 12}.col-6{grid-column:span 6}.col-4{grid-column:span 4}.col-3{grid-column:span 3}.col-2{grid-column:span 2}
@media(max-width:1024px){.col-lg-12{grid-column:span 12}.col-lg-6{grid-column:span 6}.col-lg-4{grid-column:span 4}}
.input,.select,select,textarea{width:100%;background:#0b1220;color:var(--text);border:1px solid var(--border);border-radius:10px;padding:.6rem .8rem;transition:all 0.2s ease}
.input::placeholder{color:#94a3b8}
.input:focus,.select:focus,select:focus,textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(122,19,64,0.1)}
.input:hover,.select:hover,select:hover,textarea:hover{border-color:#64748b}

/* ---------- Select/Dropdown aprimorado ---------- */
select{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");background-position:right 0.5rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem}
select:focus{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%237a1340' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")}
select option{background:var(--surface);color:var(--text);padding:0.5rem;border:none}
select option:checked{background:var(--accent);color:#fff}
select option:hover{background:var(--surface-2);color:var(--text)}
.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.6rem .95rem;border-radius:12px;border:1px solid var(--border);background:#0b1220;color:var(--text);transition:all 0.2s ease;font-weight:500}
.btn:hover{background:#101834;transform:scale(1.02)}
.btn-accent{background:var(--accent);color:#fff;border-color:#64748b}
.btn-accent:hover{background:var(--accent-600);transform:scale(1.02)}
.btn-ghost{background:transparent;border-color:var(--border)}
.btn-ghost:hover{background:#101834;transform:scale(1.02)}
.btn[disabled], .btn.disabled { opacity:.55; cursor:not-allowed; pointer-events:none; transform:none; }
.tabbar{display:flex;gap:.5rem;background:var(--surface-2);border:1px solid var(--border);border-radius:12px;padding:.25rem}
.tab{flex:1;text-align:center;padding:.6rem .8rem;border-radius:10px;color:var(--muted)}
.tab[aria-selected="true"]{background:var(--accent-700);color:#fff;font-weight:600}

/* ---------- Tabelas ---------- */
.table{width:100%;border-collapse:separate;border-spacing:0}
.table thead th{text-align:left;font-size:.75rem;color:var(--muted);padding:.75rem 1rem;text-transform:uppercase;letter-spacing:.04em}
.table tbody td{padding:.9rem 1rem;border-top:1px solid var(--border);color:var(--text)}
.table--dark thead th{background:var(--thead);font-weight:600;color:#e2e8f0;border-bottom:1px solid var(--border)}
.table--dark tbody tr{background:var(--row)}
.table--dark tbody tr:nth-child(even){background:var(--row-alt)}
.table--dark tbody tr:hover{background:#0f172a;color:var(--text)}
.table--dark tbody td{color:var(--text)}
.table--dark tbody tr:hover td{color:#f9fafb}

/* ---------- Badges (status) ---------- */
.badge{display:inline-flex;align-items:center;gap:.4ch;padding:.3rem .7rem;border-radius:999px;font-size:.75rem;font-weight:600;border:1px solid transparent;white-space:nowrap;transition:all 0.2s ease}
.badge--default{background:rgba(30,41,59,0.6);color:#e2e8f0;border-color:#334155}
.badge--aprovado{background:rgba(6,78,59,0.6);color:#6ee7b7;border-color:#047857}
.badge--efetivado{background:rgba(6,78,59,0.6);color:#6ee7b7;border-color:#047857}
.badge--analise{background:rgba(30,58,138,0.6);color:#93c5fd;border-color:#3730a3}
.badge--andamento{background:rgba(30,58,138,0.6);color:#93c5fd;border-color:#3730a3}
.badge--pendente{background:rgba(146,64,14,0.6);color:#fbbf24;border-color:#b45309}
.badge--aguardando{background:rgba(146,64,14,0.6);color:#fbbf24;border-color:#b45309}
.badge--correcao{background:rgba(190,24,93,0.6);color:#f9a8d4;border-color:#db2777}
.badge--em_correcao{background:rgba(190,24,93,0.6);color:#f9a8d4;border-color:#db2777}
.badge--correcao-feita{background:rgba(124,45,18,0.6);color:#fed7aa;border-color:#9a3412}
.badge--enviado-correcao{background:rgba(234,88,12,0.6);color:#fed7aa;border-color:#f97316}
.badge--cancelado{background:rgba(153,27,27,0.6);color:#fca5a5;border-color:#dc2626}
.badge--reprovado{background:rgba(153,27,27,0.6);color:#fca5a5;border-color:#dc2626}
.badge--pago{background:rgba(22,101,52,0.6);color:#86efac;border-color:#16a34a}
.badge--atraso{background:rgba(185,28,28,0.6);color:#fecaca;border-color:#dc2626}
.badge--aberto{background:rgba(55,65,81,0.6);color:#f3f4f6;border-color:#6b7280}

/* ---------- Tesouraria Status Badges ---------- */
.status-pendente{
  background:rgba(217,119,6,0.2) !important;
  color:#fbbf24 !important;
  border:1px solid rgba(217,119,6,0.3) !important;
  display: inline-flex !important;
  align-items: center !important;
  padding: 0.25rem 0.5rem !important;
  border-radius: 9999px !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
}
.status-em_validacao_video{
  background:rgba(96,165,250,0.2) !important;
  color:#60a5fa !important;
  border:1px solid rgba(96,165,250,0.3) !important;
  display: inline-flex !important;
  align-items: center !important;
  padding: 0.25rem 0.5rem !important;
  border-radius: 9999px !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
}
.status-em_averbacao{
  background:rgba(167,139,250,0.2) !important;
  color:#a78bfa !important;
  border:1px solid rgba(167,139,250,0.3) !important;
  display: inline-flex !important;
  align-items: center !important;
  padding: 0.25rem 0.5rem !important;
  border-radius: 9999px !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
}
.status-processado{
  background:rgba(34,197,94,0.2) !important;
  color:#22c55e !important;
  border:1px solid rgba(34,197,94,0.3) !important;
  display: inline-flex !important;
  align-items: center !important;
  padding: 0.25rem 0.5rem !important;
  border-radius: 9999px !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
}
.status-rejeitado{
  background:rgba(239,68,68,0.2) !important;
  color:#ef4444 !important;
  border:1px solid rgba(239,68,68,0.3) !important;
  display: inline-flex !important;
  align-items: center !important;
  padding: 0.25rem 0.5rem !important;
  border-radius: 9999px !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
}
.status-default{
  background:rgba(156,163,175,0.2) !important;
  color:#9ca3af !important;
  border:1px solid rgba(156,163,175,0.3) !important;
  display: inline-flex !important;
  align-items: center !important;
  padding: 0.25rem 0.5rem !important;
  border-radius: 9999px !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
}

/* ---------- Chips por papel (Agente/Analista/Tesouraria) ---------- */
.chip{display:inline-flex;align-items:center;gap:.4ch;padding:.25rem .6rem;border-radius:8px;font-size:.72rem;font-weight:600;border:1px solid transparent}
.chip--agente{background:#073042;color:#a7f3d0;border-color:#0b4a5f}
.chip--analista{background:#201b39;color:#d6bcfa;border-color:#4c1d95}
.chip--tesouraria{background:#2a0f1c;color:#f1a4c6;border-color:#5a0c2e}

/* ---------- Checkbox e Radio ---------- */
.checkbox,.radio{position:relative;display:inline-flex;align-items:center;gap:.5rem;cursor:pointer;color:var(--text)}
.checkbox span,.radio span{color:var(--text)}
.checkbox input[type="checkbox"],.radio input[type="radio"]{appearance:none;width:1.25rem;height:1.25rem;border:2px solid var(--border);background:#0b1220;border-radius:.25rem;position:relative;cursor:pointer;transition:all 0.2s ease}
.radio input[type="radio"]{border-radius:50%}
.checkbox input[type="checkbox"]:checked,.radio input[type="radio"]:checked{background:var(--accent);border-color:var(--accent)}
.checkbox input[type="checkbox"]:checked::after{content:"✓";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:.75rem;font-weight:600}
.radio input[type="radio"]:checked::after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:.5rem;height:.5rem;background:#fff;border-radius:50%}
.checkbox input[type="checkbox"]:focus,.radio input[type="radio"]:focus{outline:none;box-shadow:0 0 0 3px rgba(122,19,64,0.1)}

/* ---------- Progress Bar ---------- */
.progress{width:100%;height:.5rem;background:var(--surface-2);border-radius:.25rem;overflow:hidden}
.progress-bar{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-600));transition:width 0.3s ease}

/* ---------- Toggle Switch ---------- */
.toggle{position:relative;display:inline-block;width:3rem;height:1.5rem}
.toggle input{opacity:0;width:0;height:0}
.toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#374151;border-radius:1.5rem;transition:.3s}
.toggle-slider:before{position:absolute;content:"";height:1.125rem;width:1.125rem;left:.1875rem;bottom:.1875rem;background:white;border-radius:50%;transition:.3s}
.toggle input:checked + .toggle-slider{background:var(--accent)}
.toggle input:checked + .toggle-slider:before{transform:translateX(1.5rem)}

/* ---------- Tipografia utilitários ---------- */
.fw-400{font-weight:400;color:var(--text)}
.fw-500{font-weight:500;color:var(--text)}
.fw-600{font-weight:600;color:var(--text)}
.fw-700{font-weight:700;color:var(--heading)}
.text-muted{color:var(--muted)}
.name-strong{font-weight:500;color:var(--text)}
.value-strong{font-weight:700;color:var(--heading)}



/* ===== Esteira de Análise – DS helpers ===== */

/* Cartão padrão escuro */
.ds-card{
  background:var(--surface-card);
  border:1px solid var(--surface-border);
  border-radius: .75rem;
  box-shadow: 0 1px 0 rgba(0,0,0,.25);
}

/* Pills do filtro rápido */
.ds-pills{display:flex;flex-wrap:wrap;gap:.5rem;}
.ds-pill{
  display:inline-flex;align-items:center;gap:.5rem;
  padding:.5rem .875rem;border-radius:999px;font-weight:500;
  background: #111827; /* fallback */
  background: var(--surface-card);
  border:1px solid var(--surface-border);
  color: var(--field-fg);
  transition: all .18s ease;
}
.ds-pill:hover{background: rgba(255,255,255,.04);}
.ds-pill.is-active{
  background: var(--accent-600);
  border-color: transparent;
  color:#fff;
}

/* Inputs/select/botões */
.ds-label{display:block;font-size:.8rem;color:var(--field-ph);margin-bottom:.25rem;}
.ds-input,.ds-select{
  width:100%;
  background:var(--field-bg);
  color:var(--field-fg);
  border:1px solid var(--field-border);
  border-radius:.5rem;
  padding:.625rem .75rem;
}
.ds-input::placeholder{color:var(--field-ph);}
.ds-input:focus,.ds-select:focus{outline:none;box-shadow:0 0 0 3px var(--ring-accent);border-color:var(--accent-600);}

.ds-actions{display:flex;gap:.5rem;align-items:center;}
.ds-btn{
  display:inline-flex;align-items:center;justify-content:center;gap:.5rem;
  padding:.5rem .9rem;border-radius:.5rem;font-weight:600;
  border:1px solid transparent;transition:all 0.2s ease;
  font-size: 0.7rem; /* Reduzido ainda mais para melhor visualização em zoom 125% */
}
.ds-btn:hover{transform:scale(1.02)}
.ds-btn--accent{background:var(--accent-600);color:#fff;border-color:#374151}
.ds-btn--accent:hover{background:var(--accent-700);transform:scale(1.02)}
.ds-btn--ghost{background:var(--surface-card);color:var(--field-fg);border-color:var(--surface-border);}
.ds-btn--ghost:hover{background:rgba(255,255,255,.04);transform:scale(1.02)}

/* Placeholder de carregamento */
.ds-skeleton{height:5rem;display:flex;align-items:center;justify-content:center;color:var(--field-ph);}

/* ---------- Modal de Confirmação DS ---------- */
.ds-modal{
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: 0.75rem !important;
  box-shadow: var(--shadow) !important;
}
.ds-modal-title{color: var(--heading) !important;}
.ds-modal-text{color: var(--text) !important;}
.ds-modal-muted{color: var(--muted) !important;}
.ds-modal-input{
  background: var(--surface-2) !important;
  border: 1px solid var(--border) !important;
  color: var(--text) !important;
}
.ds-modal-input::placeholder{color: var(--muted) !important;}
